{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport emitter from '../main.js';\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      message: \"\",\n      formData: {\n        loginId: '',\n        password: ''\n      },\n      errorMessages: {\n        loginId: '',\n        password: ''\n      },\n      login: false,\n      showTooltip: false\n    };\n  },\n  mounted() {\n    this.checkLoginStatus();\n  },\n  methods: {\n    async checkLoginStatus() {\n      await axios.get(\"/login\").then(response => {\n        if (response.data === true) {\n          this.login = true;\n          this.showTooltip = this.login;\n          emitter.emit('login-status', this.showTooltip);\n          this.$store.commit('setLoggedIn', true);\n        }\n        console.log(this.showTooltip);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    submitForm() {\n      this.errorMessages = {\n        loginId: '',\n        password: ''\n      };\n      if (this.isAnyInputEmpty()) {\n        alert('모든 항목을 입력하세요.');\n        return;\n      }\n      this.sendDataToSerever(this.formData);\n    },\n    generalLogin() {\n      this.$router.push('/login/generallogin');\n    },\n    async sendDataToSerever(data) {\n      try {\n        const response = await axios.post('http://localhost:8080/login', data);\n        console.log(\"response from server\", response.data);\n        this.$router.push(\"/map\");\n      } catch (error) {\n        console.error('Error seding data to server', error);\n        if (error.response) {\n          // 서버 응답이 400대인 경우\n          if (error.response.status >= 400 && error.response.status < 500) {\n            // 여기에 클라이언트에게 알리고자 하는 작업을 추가\n            alert(error.response.data);\n          } else {\n            // 다른 상태 코드의 경우 에러 메시지만 설정\n            this.errorMessages = error.response.data;\n          }\n        }\n      }\n    },\n    isInputEmpty(value) {\n      return !value || value.trim() === '';\n    },\n    isAnyInputEmpty() {\n      // 입력 값이 하나라도 비어있으면 true 반환\n      return Object.values(this.formData).some(value => this.isInputEmpty(value));\n    }\n  }\n};","map":{"version":3,"names":["axios","emitter","name","data","message","formData","loginId","password","errorMessages","login","showTooltip","mounted","checkLoginStatus","methods","get","then","response","emit","$store","commit","console","log","catch","error","submitForm","isAnyInputEmpty","alert","sendDataToSerever","generalLogin","$router","push","post","status","isInputEmpty","value","trim","Object","values","some"],"sources":["/Users/jangsubhin/캡스톤디자인/gourmetdiary/vue/gourmetdiary/src/components/LoginPage.vue"],"sourcesContent":["<template>\n   <div class=\"main\">\n        <div class=\"main_page\">\n            <div class=\"main_pageItem\">\n                <h1>미식 일기</h1>\n              <form @submit.prevent=\"submitForm\">\n                \n                <div class=\"mb-3 row\">\n                    <label for=\"inputId\" class=\"col-sm-2 col-form-label\">아이디</label>\n                    <div class=\"col-sm-10\">\n                        <input type=\"text\" class=\"form-control\" id=\"inputId\" v-model=\"formData.loginId\">\n\n                         <!-- 입력 값이 없을 때 메시지 -->\n                        <div v-if=\"isInputEmpty(formData.loginId)\" class=\"text-danger\">아이디를 입력하세요.</div>\n                        <div v-if=\"errorMessages.loginId\" class=\"text-danger\">{{ errorMessages.loginId }}</div>\n                    </div>\n                \n                </div>\n\n                <div class=\"mb-3 row\">\n                    <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">비밀번호</label>\n                    <div class=\"col-sm-10\">\n                        <input type=\"password\" class=\"form-control\" id=\"inputPassword\" v-model=\"formData.password\">\n                        \n                         <!-- 입력 값이 없을 때 메시지 -->\n                    <div v-if=\"isInputEmpty(formData.password)\" class=\"text-danger\">비밀번호를 입력하세요.</div>\n                    <div v-if=\"errorMessages.password\" class=\"text-danger\">{{ errorMessages.password }}</div>\n\n                        <div class=\"d-grid gap-2\">\n                            <button class=\"btn btn-secondary gray\" type=\"submit\">로그인</button>\n                            <div class=\"login_func\">\n                                <div class=\"main_pageItem_btn\">\n                                    <button class=\"btn btn-link\" type=\"button\" @click=\"generalLogin\">회원가입</button>\n                                    <button class=\"btn btn-link\" type=\"button\" >아이디 찾기{{message}}</button>\n                                    <button class=\"btn btn-link\" type=\"button\" >비밀번호 찾기</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n              </form>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\nimport emitter from '../main.js';\n\nexport default {\n    name: \"LoginPage\",\n    data () {\n        return {\n            message : \"\",\n            formData : {\n                loginId: '',\n                password: '',\n            },\n            errorMessages: {\n                loginId: '',\n                password: '',\n            },\n            login: false,\n            showTooltip: false,\n        };\n    },\n    mounted() {\n        this.checkLoginStatus();\n    },\n    methods: {\n        async checkLoginStatus() {\n            await axios.get(\"/login\")\n        .then(response => {\n            if(response.data === true) {\n                this.login = true;\n                this.showTooltip = this.login;\n                emitter.emit('login-status',this.showTooltip);\n                this.$store.commit('setLoggedIn', true);\n            }\n            console.log(this.showTooltip);\n            \n        })\n        .catch(error => {\n            console.log(error);\n        });\n        },\n\n        submitForm() {\n            this.errorMessages = {\n                loginId : '',\n                password: '',\n            };\n\n            if (this.isAnyInputEmpty()) {\n            alert('모든 항목을 입력하세요.');\n            return;\n        }\n\n        this.sendDataToSerever(this.formData);\n\n        },\n\n        generalLogin() {\n            this.$router.push('/login/generallogin');\n        },\n        \n        \n\n    async sendDataToSerever(data) {\n        try {\n            const response = await axios.post('http://localhost:8080/login',data);\n            console.log(\"response from server\", response.data);\n            this.$router.push(\"/map\");\n        } catch (error) {\n            console.error('Error seding data to server', error);\n\n            if (error.response) {\n            // 서버 응답이 400대인 경우\n                if (error.response.status >= 400 && error.response.status < 500) {\n                    // 여기에 클라이언트에게 알리고자 하는 작업을 추가\n                    alert(error.response.data);\n                } else {\n                    // 다른 상태 코드의 경우 에러 메시지만 설정\n                    this.errorMessages = error.response.data;\n                }\n        }\n        }\n     },\n     isInputEmpty(value) {\n        return !value || value.trim() === '';\n     },\n     isAnyInputEmpty() {\n        // 입력 값이 하나라도 비어있으면 true 반환\n        return Object.values(this.formData).some(value => this.isInputEmpty(value));\n    }\n        \n    },\n}\n</script>\n\n<style>\n.main {\n    position: absolute;\n    bottom: 0;\n    right : 0;\n    display: flex;\n\n}\n.main_page {\n    width:85vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.main_pageItem {\n    width: 500px;\n}\n\n.main_pageItem h1{\n    margin-bottom: 1em;\n    margin-left: 2em;\n}\n\n.login_pageItem_object label{\n    width: 110px;\n}\n\n.gray {\n    margin-top : 2em;\n}\n\n.login_func {\n    display: flex;\n    flex-direction: row;\n\n}\n\n\n\n\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}