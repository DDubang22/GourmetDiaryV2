{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Modal from \"./RegisterFormModal.vue\";\nexport default {\n  name: \"kakaoMap\",\n  data() {\n    return {\n      map: null,\n      open_modal: false,\n      shops: [{\n        name: \"미세노센세\",\n        position: new window.kakao.maps.LatLng(36.346040, 127.388857),\n        image: \"https://search.pstatic.net/common/?src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20200103_48%2F1578045531270sJ3xQ_JPEG%2F07tuzBm7aoaPnzE4BoiEG5e_.jpeg.jpg\",\n        address: \"대전 서구 계룡로553번안길 65 웨스턴빌딩 1층\",\n        zipcode: \"35263\",\n        jibun: \"탄방동 757\",\n        website: \"http://map.naver.com/p/entry/place/13472781?lng=127.388844605869&lat=36.346045287555995&placePath=%2Fhome&entry=plt\"\n      }\n      // 다른 가게들도 추가할 수 있습니다.\n      ],\n\n      markers: [{}],\n      overlays: []\n    };\n  },\n  mounted() {\n    if (window.kakao && window.kakao.maps) {\n      this.loadMap();\n    } else {\n      const script = document.createElement(\"script\");\n      script.onload = () => window.kakao.maps.load(this.loadMap);\n      script.src = \"//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=915cffed372954b7b44804ed422b9cf0\";\n      document.head.appendChild(script);\n    }\n  },\n  methods: {\n    loadMap() {\n      const container = document.getElementById(\"map\");\n      const options = {\n        center: new window.kakao.maps.LatLng(36.34610445888127, 127.38851977413381),\n        level: 3\n      };\n      this.map = new window.kakao.maps.Map(container, options);\n      this.addMarkers();\n    },\n    addMarkers() {\n      this.shops.forEach(shop => {\n        const marker = new window.kakao.maps.Marker({\n          map: this.map,\n          position: shop.position\n        });\n        var content = `<div class=\"wrap\">\n          <div class=\"info\">\n            <div class=\"title\">${shop.name}\n              <div class=\"close\" title=\"닫기\"></div>\n            </div>\n            <div class=\"body\">\n              <div class=\"img\">\n                <img src=\"${shop.image}\" width=\"73\" height=\"70\">\n              </div>\n              <div class=\"desc\">\n                <div class=\"ellipsis\">${shop.address}</div>\n                <div class=\"jibun ellipsis\">(우) ${shop.zipcode} (지번) ${shop.jibun}</div>\n                <div><a href=\"${shop.website}\" target=\"_blank\" class=\"link\">홈페이지</a></div>\n              </div>\n            </div>\n          </div>\n        </div>`;\n        const overlay = new window.kakao.maps.CustomOverlay({\n          content: content,\n          map: this.map,\n          position: marker.getPosition()\n        });\n        window.kakao.maps.event.addListener(marker, \"click\", () => {\n          console.log(\"addListener 메서드가 호출되었습니다.\");\n          if (overlay.getMap()) {\n            overlay.setMap(null);\n          } else {\n            overlay.setMap(this.map);\n          }\n        });\n        this.markers.push(marker);\n        this.overlays.push(overlay);\n      });\n    }\n  },\n  components: {\n    Modal\n  }\n};","map":{"version":3,"names":["Modal","name","data","map","open_modal","shops","position","window","kakao","maps","LatLng","image","address","zipcode","jibun","website","markers","overlays","mounted","loadMap","script","document","createElement","onload","load","src","head","appendChild","methods","container","getElementById","options","center","level","Map","addMarkers","forEach","shop","marker","Marker","content","overlay","CustomOverlay","getPosition","event","addListener","console","log","getMap","setMap","push","components"],"sources":["/Users/jangsubhin/캡스톤디자인/gourmetdiary/vue/gourmetdiary/src/components/MapPage.vue"],"sourcesContent":["<template>\n   <div class=\"main\">\n        <div class=\"main_page\">\n            <div id=\"map\"></div>\n            <div class=\"form\">\n                <button type=\"button\" @click=\"open_modal = true\" >맛집 집어넣기</button>\n            </div>\n\n            <Modal  :open_modal=\"open_modal\" @closeModal=\"open_modal = false\" />\n\n        </div>\n    </div>\n</template>\n<script>\nimport Modal from \"./RegisterFormModal.vue\";\n\nexport default {\n  name: \"kakaoMap\",\n  data() {\n    return {\n      map: null,\n      open_modal: false,\n      shops: [\n        {\n          name: \"미세노센세\",\n          position: new window.kakao.maps.LatLng(36.346040, 127.388857),\n          image: \"https://search.pstatic.net/common/?src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20200103_48%2F1578045531270sJ3xQ_JPEG%2F07tuzBm7aoaPnzE4BoiEG5e_.jpeg.jpg\",\n          address: \"대전 서구 계룡로553번안길 65 웨스턴빌딩 1층\",\n          zipcode: \"35263\",\n          jibun: \"탄방동 757\",\n          website: \"http://map.naver.com/p/entry/place/13472781?lng=127.388844605869&lat=36.346045287555995&placePath=%2Fhome&entry=plt\",\n        },\n        // 다른 가게들도 추가할 수 있습니다.\n      ],\n      markers: [{}],\n      overlays: [],\n    };\n  },\n  mounted() {\n    if (window.kakao && window.kakao.maps) {\n      this.loadMap();\n    } else {\n      const script = document.createElement(\"script\");\n      script.onload = () => window.kakao.maps.load(this.loadMap);\n      script.src =\n        \"//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=915cffed372954b7b44804ed422b9cf0\";\n      document.head.appendChild(script);\n    }\n  },\n  methods: {\n    loadMap() {\n      const container = document.getElementById(\"map\");\n      const options = {\n        center: new window.kakao.maps.LatLng(36.34610445888127, 127.38851977413381),\n        level: 3,\n      };\n      this.map = new window.kakao.maps.Map(container, options);\n      this.addMarkers();\n    },\n    addMarkers() {\n      this.shops.forEach((shop) => {\n        const marker = new window.kakao.maps.Marker({\n          map: this.map,\n          position: shop.position,\n        });\n\n        var content = `<div class=\"wrap\">\n          <div class=\"info\">\n            <div class=\"title\">${shop.name}\n              <div class=\"close\" title=\"닫기\"></div>\n            </div>\n            <div class=\"body\">\n              <div class=\"img\">\n                <img src=\"${shop.image}\" width=\"73\" height=\"70\">\n              </div>\n              <div class=\"desc\">\n                <div class=\"ellipsis\">${shop.address}</div>\n                <div class=\"jibun ellipsis\">(우) ${shop.zipcode} (지번) ${shop.jibun}</div>\n                <div><a href=\"${shop.website}\" target=\"_blank\" class=\"link\">홈페이지</a></div>\n              </div>\n            </div>\n          </div>\n        </div>`;\n\n        const overlay = new window.kakao.maps.CustomOverlay({\n          content: content,\n          map: this.map,\n          position: marker.getPosition(),\n        });\n\n        window.kakao.maps.event.addListener(marker, \"click\", () => {\n          console.log(\"addListener 메서드가 호출되었습니다.\");\n          if (overlay.getMap()) {\n            overlay.setMap(null);\n          } else {\n            overlay.setMap(this.map);\n          }\n        });\n\n        this.markers.push(marker);\n        this.overlays.push(overlay);\n      });\n    },\n  },\n  components: {\n    Modal,\n  },\n};\n</script>\n\n<style>\nbody {\n    margin : 0;\n    padding : 0;\n}\n.main {\n    position: absolute;\n    bottom: 0;\n    right : 0;\n\n}\n.main_page {\n    width:85vw;\n    height: 100vh;\n}\n\n#map {\n    width: 100%;\n    height:100vh;\n}\n\n.form {\n    width: 300px;\n    height: 50px;\n    \n    position: absolute;\n    z-index: 3;\n    top: 0;\n    right: 0;\n}\n\n.wrap {position: absolute;left: 0;bottom: 40px;width: 288px;height: 132px;margin-left: -144px;text-align: left;overflow: hidden;font-size: 12px;font-family: 'Malgun Gothic', dotum, '돋움', sans-serif;line-height: 1.5;}\n    .wrap * {padding: 0;margin: 0;}\n    .wrap .info {width: 286px;height: 120px;border-radius: 5px;border-bottom: 2px solid #ccc;border-right: 1px solid #ccc;overflow: hidden;background: #fff;}\n    .wrap .info:nth-child(1) {border: 0;box-shadow: 0px 1px 2px #888;}\n    .info .title {padding: 5px 0 0 10px;height: 30px;background: #eee;border-bottom: 1px solid #ddd;font-size: 18px;font-weight: bold;}\n    .info .close {position: absolute;top: 10px;right: 10px;color: #888;width: 17px;height: 17px;background: url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/overlay_close.png');}\n    .info .close:hover {cursor: pointer;}\n    .info .body {position: relative;overflow: hidden;}\n    .info .desc {position: relative;margin: 13px 0 0 90px;height: 75px;}\n    .desc .ellipsis {overflow: hidden;text-overflow: ellipsis;white-space: nowrap;}\n    .desc .jibun {font-size: 11px;color: #888;margin-top: -2px;}\n    .info .img {position: absolute;top: 6px;left: 5px;width: 73px;height: 71px;border: 1px solid #ddd;color: #888;overflow: hidden;}\n    .info:after {content: '';position: absolute;margin-left: -12px;left: 50%;bottom: 0;width: 22px;height: 12px;background: url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/vertex_white.png')}\n    .info .link {color: #5085BB;}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}