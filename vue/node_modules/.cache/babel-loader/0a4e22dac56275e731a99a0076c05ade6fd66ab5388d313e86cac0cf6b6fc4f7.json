{"ast":null,"code":"import Modal from \"./RegisterFormModal.vue\";\nexport default {\n  name: \"kakaoMap\",\n  data() {\n    return {\n      map: null,\n      open_modal: false\n    };\n  },\n  mounted() {\n    if (window.kakao && window.kakao.maps) {\n      this.loadMap();\n    } else {\n      const script = document.createElement(\"script\");\n      script.onload = () => window.kakao.maps.load(this.loadMap);\n      script.src = \"//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=915cffed372954b7b44804ed422b9cf0\";\n      document.head.appendChild(script);\n    }\n  },\n  methods: {\n    loadMap() {\n      const container = document.getElementById(\"map\");\n      const options = {\n        center: new window.kakao.maps.LatLng(36.34610445888127, 127.38851977413381),\n        level: 3\n      };\n      this.map = new window.kakao.maps.Map(container, options);\n      this.addMarker();\n    },\n    addMarker() {\n      //지도에 마커 추가\n      const marker = new window.kakao.maps.Marker({\n        map: this.map,\n        position: new window.kakao.maps.LatLng(33.450701, 126.570667)\n      });\n      var content = '<div class=\"wrap\">' + '    <div class=\"info\">' + '        <div class=\"title\">' + '            카카오 스페이스닷원' + '            <div class=\"close\" onclick=\"closeOverlay()\" title=\"닫기\"></div>' + '        </div>' + '        <div class=\"body\">' + '            <div class=\"img\">' + '                <img src=\"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/thumnail.png\" width=\"73\" height=\"70\">' + '           </div>' + '            <div class=\"desc\">' + '                <div class=\"ellipsis\">제주특별자치도 제주시 첨단로 242</div>' + '                <div class=\"jibun ellipsis\">(우) 63309 (지번) 영평동 2181</div>' + '                <div><a href=\"https://www.kakaocorp.com/main\" target=\"_blank\" class=\"link\">홈페이지</a></div>' + '            </div>' + '        </div>' + '    </div>' + '</div>';\n      const overlay = new window.kakao.maps.CustomOverlay({\n        content: content,\n        map: this.map,\n        position: marker.getPosition()\n      });\n      window.kakao.event.addListener(marker, 'click', function () {\n        overlay.setMap(this.map);\n      });\n    },\n    // 커스텀 오버레이를 닫기 위해 호출되는 함수입니다  \n    closeOverlay() {\n      // 오버레이를 닫는 로직\n      // overlay 객체가 정의되어 있다고 가정합니다.\n      if (overlay) {\n        overlay.setMap(null);\n        this.open_modal = false; // 모달도 닫기\n      }\n    }\n  },\n\n  components: {\n    Modal\n  }\n};","map":{"version":3,"names":["Modal","name","data","map","open_modal","mounted","window","kakao","maps","loadMap","script","document","createElement","onload","load","src","head","appendChild","methods","container","getElementById","options","center","LatLng","level","Map","addMarker","marker","Marker","position","content","overlay","CustomOverlay","getPosition","event","addListener","setMap","closeOverlay","components"],"sources":["/Users/jangsubhin/캡스톤디자인/gourmetdiary/vue/gourmetdiary/src/components/MapPage.vue"],"sourcesContent":["<template>\n   <div class=\"main\">\n        <div class=\"main_page\">\n            <div id=\"map\"></div>\n            <div class=\"form\">\n                <button type=\"button\" @click=\"open_modal = true\" >맛집 집어넣기</button>\n            </div>\n\n            <Modal  :open_modal=\"open_modal\" @closeModal=\"open_modal = false\" />\n\n        </div>\n    </div>\n</template>\n<script>\nimport Modal from \"./RegisterFormModal.vue\"\n\nexport default {\n    name: \"kakaoMap\",\n    data () {\n        return {\n            map : null,\n            open_modal : false,\n        };\n    },\n    mounted() {\n      if(window.kakao && window.kakao.maps) {\n        this.loadMap();\n      } else {\n        const script = document.createElement(\"script\");\n        script.onload = () => window.kakao.maps.load(this.loadMap);\n        script.src=\n            \"//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=915cffed372954b7b44804ed422b9cf0\";\n        document.head.appendChild(script);    \n      }\n    },\n    methods: {\n        loadMap () {\n            const container = document.getElementById(\"map\");\n            const options = {\n                center: new window.kakao.maps.LatLng(36.34610445888127, 127.38851977413381),\n                level : 3,\n            };\n            this.map = new window.kakao.maps.Map(container,options);\n            this.addMarker();\n        },\n        addMarker() {\n            //지도에 마커 추가\n            const marker = new window.kakao.maps.Marker({\n                map: this.map,\n                position: new window.kakao.maps.LatLng(33.450701, 126.570667),\n            });\n\n            var content = '<div class=\"wrap\">' + \n            '    <div class=\"info\">' + \n            '        <div class=\"title\">' + \n            '            카카오 스페이스닷원' + \n            '            <div class=\"close\" onclick=\"closeOverlay()\" title=\"닫기\"></div>' + \n            '        </div>' + \n            '        <div class=\"body\">' + \n            '            <div class=\"img\">' +\n            '                <img src=\"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/thumnail.png\" width=\"73\" height=\"70\">' +\n            '           </div>' + \n            '            <div class=\"desc\">' + \n            '                <div class=\"ellipsis\">제주특별자치도 제주시 첨단로 242</div>' + \n            '                <div class=\"jibun ellipsis\">(우) 63309 (지번) 영평동 2181</div>' + \n            '                <div><a href=\"https://www.kakaocorp.com/main\" target=\"_blank\" class=\"link\">홈페이지</a></div>' + \n            '            </div>' + \n            '        </div>' + \n            '    </div>' +    \n            '</div>';\n\n            const overlay = new window.kakao.maps.CustomOverlay({\n                content : content,\n                map : this.map,\n                position: marker.getPosition(),\n            });\n\n            window.kakao.event.addListener(marker,'click',function() {\n                overlay.setMap(this.map);\n            });\n\n        },\n        // 커스텀 오버레이를 닫기 위해 호출되는 함수입니다  \n        closeOverlay() {\n            // 오버레이를 닫는 로직\n            // overlay 객체가 정의되어 있다고 가정합니다.\n            if (overlay) {\n                overlay.setMap(null);\n                this.open_modal = false; // 모달도 닫기\n            }\n        },\n\n    },\n    components : {\n        Modal,\n    }\n}\n</script>\n\n<style>\nbody {\n    margin : 0;\n    padding : 0;\n}\n.main {\n    position: absolute;\n    bottom: 0;\n    right : 0;\n\n}\n.main_page {\n    width:85vw;\n    height: 100vh;\n}\n\n#map {\n    width: 100%;\n    height:100vh;\n}\n\n.form {\n    width: 300px;\n    height: 50px;\n    \n    position: absolute;\n    z-index: 3;\n    top: 0;\n    right: 0;\n}\n</style>"],"mappings":"AAcA,OAAOA,KAAI,MAAO,yBAAwB;AAE1C,eAAe;EACXC,IAAI,EAAE,UAAU;EAChBC,IAAGA,CAAA,EAAK;IACJ,OAAO;MACHC,GAAE,EAAI,IAAI;MACVC,UAAS,EAAI;IACjB,CAAC;EACL,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAGC,MAAM,CAACC,KAAI,IAAKD,MAAM,CAACC,KAAK,CAACC,IAAI,EAAE;MACpC,IAAI,CAACC,OAAO,CAAC,CAAC;IAChB,OAAO;MACL,MAAMC,MAAK,GAAIC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC/CF,MAAM,CAACG,MAAK,GAAI,MAAMP,MAAM,CAACC,KAAK,CAACC,IAAI,CAACM,IAAI,CAAC,IAAI,CAACL,OAAO,CAAC;MAC1DC,MAAM,CAACK,GAAG,GACN,wFAAwF;MAC5FJ,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,MAAM,CAAC;IACnC;EACF,CAAC;EACDQ,OAAO,EAAE;IACLT,OAAMA,CAAA,EAAK;MACP,MAAMU,SAAQ,GAAIR,QAAQ,CAACS,cAAc,CAAC,KAAK,CAAC;MAChD,MAAMC,OAAM,GAAI;QACZC,MAAM,EAAE,IAAIhB,MAAM,CAACC,KAAK,CAACC,IAAI,CAACe,MAAM,CAAC,iBAAiB,EAAE,kBAAkB,CAAC;QAC3EC,KAAI,EAAI;MACZ,CAAC;MACD,IAAI,CAACrB,GAAE,GAAI,IAAIG,MAAM,CAACC,KAAK,CAACC,IAAI,CAACiB,GAAG,CAACN,SAAS,EAACE,OAAO,CAAC;MACvD,IAAI,CAACK,SAAS,CAAC,CAAC;IACpB,CAAC;IACDA,SAASA,CAAA,EAAG;MACR;MACA,MAAMC,MAAK,GAAI,IAAIrB,MAAM,CAACC,KAAK,CAACC,IAAI,CAACoB,MAAM,CAAC;QACxCzB,GAAG,EAAE,IAAI,CAACA,GAAG;QACb0B,QAAQ,EAAE,IAAIvB,MAAM,CAACC,KAAK,CAACC,IAAI,CAACe,MAAM,CAAC,SAAS,EAAE,UAAU;MAChE,CAAC,CAAC;MAEF,IAAIO,OAAM,GAAI,oBAAmB,GACjC,wBAAuB,GACvB,6BAA4B,GAC5B,wBAAuB,GACvB,2EAA0E,GAC1E,gBAAe,GACf,4BAA2B,GAC3B,+BAA8B,GAC9B,0HAAyH,GACzH,mBAAkB,GAClB,gCAA+B,GAC/B,iEAAgE,GAChE,2EAA0E,GAC1E,2GAA0G,GAC1G,oBAAmB,GACnB,gBAAe,GACf,YAAW,GACX,QAAQ;MAER,MAAMC,OAAM,GAAI,IAAIzB,MAAM,CAACC,KAAK,CAACC,IAAI,CAACwB,aAAa,CAAC;QAChDF,OAAM,EAAIA,OAAO;QACjB3B,GAAE,EAAI,IAAI,CAACA,GAAG;QACd0B,QAAQ,EAAEF,MAAM,CAACM,WAAW,CAAC;MACjC,CAAC,CAAC;MAEF3B,MAAM,CAACC,KAAK,CAAC2B,KAAK,CAACC,WAAW,CAACR,MAAM,EAAC,OAAO,EAAC,YAAW;QACrDI,OAAO,CAACK,MAAM,CAAC,IAAI,CAACjC,GAAG,CAAC;MAC5B,CAAC,CAAC;IAEN,CAAC;IACD;IACAkC,YAAYA,CAAA,EAAG;MACX;MACA;MACA,IAAIN,OAAO,EAAE;QACTA,OAAO,CAACK,MAAM,CAAC,IAAI,CAAC;QACpB,IAAI,CAAChC,UAAS,GAAI,KAAK,EAAE;MAC7B;IACJ;EAEJ,CAAC;;EACDkC,UAAS,EAAI;IACTtC;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}